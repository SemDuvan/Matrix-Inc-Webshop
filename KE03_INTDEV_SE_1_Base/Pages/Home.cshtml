@page
@model KE03_INTDEV_SE_1_Base.Pages.HomeModel

@{
    ViewData["Title"] = "Home";
}

@if (Model.Customer != null)
{
    <h2>Welkom, @Model.Customer.Name!</h2>

    <h3>Bestellingen:</h3>
    @if (Model.Customer.Orders != null && Model.Customer.Orders.Any())
    {
        <ul>
            @foreach (var order in Model.Customer.Orders)
            {
                <li>
                    <strong>Besteld op:</strong> @order.OrderDate.ToString("dd-MM-yyyy")<br />
                    <strong>Producten:</strong>
                    @if (order.Products != null && order.Products.Any())
                    {
                        <ul>
                            @foreach (var product in order.Products)
                            {
                                <li>@product.Name</li>
                            }
                        </ul>
                    }
                    else
                    {
                        <span>Geen producten in deze bestelling.</span>
                    }
                </li>
            }
        </ul>
    }
    else
    {
        <p>Geen bestellingen gevonden.</p>
    }
}

